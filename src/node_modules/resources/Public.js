import { Resource } from 'rest-hooks';

export default class PublicResource extends Resource {
  static fetchPlugin = (request: Request) =>
    request.set({
      Accept: 'application/json'
    });

  static detailShape(t): ReadShape<SchemaDetail<AbstractInstanceType<T>>> {
    return {
      ...super.detailShape(),
      schema: { data: this.getEntitySchema() }
    };
  }
  static listShape(t): ReadShape<SchemaList<AbstractInstanceType<T>>> {
    return {
      ...super.listShape(),
      schema: { data: [this.getEntitySchema()] }
    };
  }
}
